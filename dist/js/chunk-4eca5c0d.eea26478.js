(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eca5c0d"],{7247:function(t,e,i){"use strict";i("8ec4")},"8ec4":function(t,e,i){},fe41:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stockNews"},[s("div",{staticClass:"stockNewsHeader"},[s("ul",{staticClass:"two"},t._l(t.rightNewsTab,(function(e,i){return s("li",{key:i,class:t.ischoose==i?"choose":"",on:{click:function(e){return t.headClickBtn(i)}}},[t._v(t._s(e.name))])})),0)]),0!=t.artileList.length?s("div",{staticClass:"stockNewsBody",style:[{height:t.height/10-12+"rem"}]},[s("el-scrollbar",{ref:"contentbody",staticStyle:{height:"100%"}},t._l(t.artileList,(function(e,i){return s("div",{key:i,staticClass:"stockNewsList",on:{click:function(i){return t.openNewsDetails(e)}}},[s("span",{staticClass:"stockTime"},[t._v(t._s(e.publishTime.substring(0,10)))]),s("span",{staticClass:"stockTitle"},[t._v(t._s(e.articleTitle))])])})),0)],1):t._e(),0==t.artileList.length?s("div",{staticClass:"stockNoData",style:[{height:t.height/10-12+"rem"}]},[s("img",{attrs:{src:i("201e"),alt:""}}),s("p",[t._v("休息一下，您目前暂无资讯哟~")])]):t._e()])},o=[],a=i("c1f9"),n=(i("fc02"),i("d31b"),i("ed08"),i("7d72"),i("af82")),l={name:"",components:{},props:{},data:function(){return{isMyself:!1,ischoose:0,title:"我的自选",selfList:[],rightNewsTab:[{name:"新闻",type:"news"},{name:"公告",type:"ggao"},{name:"深度",type:"deep"}],dataListObj:{ggao:"",news:[]},chooseFenzu:0,page:1,pageSize:20,isbool:!1,artileList:[1],height:0,codeNumber:"",codeType:"",listneedTime:""}},computed:{},watch:{$route:{handler:function(t,e){1==this.ischoose&&(this.artileList=[],this.getgupiaoCode(),this.tdxGgList()),0==this.ischoose&&(this.getgupiaoCode(),this.getselfList("1")),2==this.ischoose&&(this.getgupiaoCode(),this.getselfList("2"))},deep:!0}},created:function(){this.height=window.innerHeight},mounted:function(){window.addEventListener("scroll",this.lazyLoading,200,!0),this.getgupiaoCode(),this.getselfList("1")},methods:{headClickBtn:function(t){this.ischoose=t,this.page=1;var e=this.$loading({lock:!0,text:"",spinner:"",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){e.close()}),1e3),1==t&&(this.artileList=[],this.getgupiaoCode(),this.tdxGgList()),0==t&&(this.getgupiaoCode(),this.getselfList("1")),2==t&&(this.getgupiaoCode(),this.getselfList("2"))},getgupiaoCode:function(){this.codeNumber=window.location.href.split("?")[1].split("&")[0].split("=")[1],this.codeType=window.location.href.split("?")[1].split("&")[1].split("=")[1]},tdxGgList:function(){var t=this,e=this,i=(""!=JSON.stringify(e.codeNumber)&&JSON.stringify(e.codeNumber),{Params:["3",e.codeNumber,this.page,this.pageSize]});n["a"].newsBoard.getTdxGgList(i).then((function(e){if(0==e.ErrorCode&&0!=e.ResultSets[0].Content.length)if(e.ResultSets[0].Content&&0!=e.ResultSets[0].Content.length)if(t.isbool=!0,1==t.page){for(var i=e.ResultSets[0].Content,s=(i[0],[]),o=0;o<i.length;o++)s.push({list:"",ancestors:"0,1703,1704",articleImg:null,sourceType:i[o][5],articleType:i[o][5],author:i[o][5],brief:i[o][0],categoryAncestors:"0,1703",categoryId:1704,childArticleList:null,hotParentArticleOutCode:null,id:i[o][2],important:null,innerStocks:"",isFile:0,isGlobal:0,isHot:0,publishTime:i[o][1].substring(0,10)||i[o][1],rangeType:null,readNums:478,stocks:i[o][3],articleTitle:i[o][0],zdfList:i[o][10],pdfUrl:i[o][6]});t.artileList=s}else{var n=e.ResultSets[0].Content;n.length<20&&(t.isbool=!1);for(var l=[],c=0;c<n.length;c++)l.push({ancestors:"0,1703,1704",articleImg:null,sourceType:n[c][5],articleType:n[c][5],author:n[c][5],brief:n[c][0],categoryAncestors:"0,1703",categoryId:1704,childArticleList:null,hotParentArticleOutCode:null,id:n[c][2],important:null,innerStocks:"",isFile:0,isGlobal:0,isHot:0,publishTime:n[c][1],rangeType:null,readNums:478,stocks:n[c][3],articleTitle:n[c][0],zdfList:n[c][10],pdfUrl:n[c][6]});var r=l;t.artileList=[].concat(Object(a["a"])(t.artileList),r)}else 1==t.page&&(t.artileList=[]);else 1==t.page&&(t.artileList=[])}))},getselfList:function(t){var e=this,i="1"==this.codeType?"sh":"sz",s={version:"1.0",data:{articleType:t,limit:20,page:this.page,pageOneDataTime:this.listneedTime,stocksList:[i+this.codeNumber]||!1}};n["a"].newsBoard.selfListData(s).then((function(t){if("0"==t.code)if(0!=t.data.length)if(e.isbool=!0,1==e.page){t.data[0];e.listneedTime=t.extendData.pageOneDataTime,e.artileList=t.data}else{var i=t.data;e.artileList=[].concat(Object(a["a"])(e.artileList),Object(a["a"])(i))}else 1==e.page&&(e.artileList=[]);else 1==e.page&&(e.artileList=[])}))},openNewsDetails:function(t){"0"==this.ischoose||"2"==this.ischoose?window.location.href="http://www.treeid/dlglocalurl##homepath##jspages/dist/index.html#/stockNewsDetails?mac=##netcard##&nomenu=1&id="+t.articleId+"&num="+this.ischoose+"&tdxmyietitle="+encodeURIComponent("资讯详情")+"&noborder=1":window.location.href="http://www.treeid/dlglocalurl##homepath##jspages/dist/index.html#/stockNewsDetails?mac=##netcard##&nomenu=1&id="+t.id+"&stock="+t.stocks+"&num="+this.ischoose+"&readnum="+t.readNums+"&stocktype="+t.articleType+"&tdxmyietitle="+encodeURIComponent("资讯详情")+"&noborder=1"},lazyLoading:function(){var t=this;if(t.$refs.contentbody){var e=this.$refs["contentbody"].wrap.scrollTop,i=this.$refs["contentbody"].wrap.clientHeight,s=this.$refs["contentbody"].wrap.scrollHeight;e+i>=s&&t.isbool&&(t.isbool=!1,t.page+=1,0==t.ischoose?t.getselfList("1"):2==t.ischoose?t.getselfList("2"):t.tdxGgList())}}}},c=l,r=(i("7247"),i("cba8")),h=Object(r["a"])(c,s,o,!1,null,"02dba564",null);e["default"]=h.exports}}]);